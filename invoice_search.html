{% extends "base.html" %}

{% block title %}ç™¼ç¥¨æŸ¥è©¢è¨˜éŒ„ - fastB2B{% endblock %}

{% block content %}
<div class="form-container">
  <h3>ç™¼ç¥¨è¨˜éŒ„æŸ¥è©¢</h3>

  <form method="GET" class="search-form">
    <label>å…¬å¸åç¨±ï¼š
      <input type="text" name="company_name" value="{{ company_name or '' }}">
    </label>
    <label>çµ±ä¸€ç·¨è™Ÿï¼š
      <input type="text" name="tax_id" value="{{ tax_id or '' }}">
    </label>
    <label>æ—¥æœŸå€é–“ï¼š
      <input type="date" name="start_date" value="{{ start_date or '' }}"> ~
      <input type="date" name="end_date" value="{{ end_date or '' }}">
    </label>
    <button type="submit">æŸ¥è©¢</button>
  </form>

  {% if results %}
  <table>
    <thead>
      <tr>
        <th>å» å•†åç¨±</th>
        <th>å» å•†ç·¨è™Ÿ</th>
        <th>ç™¼ç¥¨è™Ÿç¢¼</th>
        <th>é‡‘é¡</th>
        <th>ç™¼ç¥¨æ—¥æœŸ</th>
      </tr>
    </thead>
    <tbody>
      {% for row in results %}
      <tr>
        <td>{{ row.company_name }}</td>
        <td>{{ row.company_id }}</td>
        <td>{{ row.invoice_number }}</td>
        <td>{{ "{:,}".format(row.amount) }}</td>
        <td>{{ row.date }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    {% if request.args %}
    <p>ğŸ” æŸ¥ç„¡ç›¸é—œç™¼ç¥¨è³‡æ–™</p>
    {% endif %}
  {% endif %}

  <div class="actions" style="margin-top: 20px;">
    <button type="button" onclick="location.href='{{ url_for('search') }}'">è¿”å›é¦–é </button>
    <!-- æ­¤ç‚ºå±•ç¤ºç”¨é€”ï¼Œå¦‚æœ‰éœ€ç¢ºèªå¾Œé€å‡ºå…¶ä»–å‹•ä½œï¼Œå¯ç”¨å¦ä¸€ form åŒ…èµ·ä¾† -->
  </div>

  <div class="note" style="margin-top: 10px; color: red;">
    â–² åƒ…èƒ½ä¿®æ”¹ä¸ƒå¤©å…§çš„è³‡æ–™
  </div>
</div>
{% endblock %}
